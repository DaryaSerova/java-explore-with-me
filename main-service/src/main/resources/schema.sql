create TABLE IF NOT EXISTS LOCATION_T (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	LAT FLOAT4 NOT NULL,
	LON FLOAT4 NOT NULL,
	CONSTRAINT LOCATION_T_PK PRIMARY KEY (ID)
);

create TABLE IF NOT EXISTS USER_T (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	NAME CHARACTER VARYING NOT NULL,
	EMAIL CHARACTER VARYING NOT NULL,
	CONSTRAINT USER_T_PK PRIMARY KEY (ID)
);

create TABLE IF NOT EXISTS CATEGORY_T (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	NAME CHARACTER VARYING NOT NULL,
	CONSTRAINT CATEGORY_T_PK PRIMARY KEY (ID)
);

--create TABLE IF NOT EXISTS STATE_EVENT_T (
--
--	ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--	NAME CHARACTER VARYING NOT NULL,
--	CONSTRAINT STATE_EVENT_T_PK PRIMARY KEY (ID)
--
--);
--
--create TABLE IF NOT EXISTS STATE_REQUEST_T (
--
--	ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--	NAME CHARACTER VARYING NOT NULL,
--	CONSTRAINT STATE_REQUEST_T_PK PRIMARY KEY (ID)
--
--);

create TABLE IF NOT EXISTS EVENT_T (

    ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ANNOTATION CHARACTER VARYING(255) NOT NULL,
    CATEGORY_ID BIGINT NOT NULL,
    CONFIRMED_REQUESTS INT,
    CREATED_ON TIMESTAMP WITHOUT TIME ZONE,
    DESCRIPTION CHARACTER VARYING,
    EVENT_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    INITIATOR_ID BIGINT NOT NULL,
    LOCATION FLOAT4 NOT NULL,
    PAID BOOLEAN NOT NULL,
    PARTICIPANT_LIMIT INT,
    PUBLISHED_ON TIMESTAMP WITHOUT TIME ZONE,
    REQUEST_MODERATION BOOLEAN,
    STATE_EVENT CHARACTER VARYING,
    TITLE CHARACTER VARYING NOT NULL,
    VIEWS INT,
    CONSTRAINT EVENT_T_PK PRIMARY KEY (ID),
    CONSTRAINT EVENT_T_FK FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY_T(ID) ON delete CASCADE ON update CASCADE,
    CONSTRAINT EVENT_T_FK_1 FOREIGN KEY (INITIATOR_ID) REFERENCES USER_T(ID) ON delete CASCADE ON update CASCADE
);

create TABLE IF NOT EXISTS COMPILATION_T (

    ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    EVENT_ID BIGINT NOT NULL,
    PINNED BOOL NOT NULL,
    TITLE CHARACTER VARYING NOT NULL,
    CONSTRAINT COMPILATION_T_PK PRIMARY KEY (ID)
);

create TABLE IF NOT EXISTS PARTICIPATION_REQUEST_T (

     ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
     CREATED TIMESTAMP WITHOUT TIME ZONE,
     EVENT_ID BIGINT NOT NULL,
     REQUESTER_ID BIGINT NOT NULL,
     STATUS CHARACTER VARYING NOT NULL,
     CONSTRAINT PARTICIPATION_REQUEST_T_PK PRIMARY KEY (ID),
     CONSTRAINT PARTICIPATION_REQUEST_T_FK FOREIGN KEY (EVENT_ID) REFERENCES EVENT_T(ID) ON delete CASCADE ON update CASCADE,
     CONSTRAINT PARTICIPATION_REQUEST_T_FK_1 FOREIGN KEY (REQUESTER_ID) REFERENCES USER_T(ID) ON delete CASCADE ON update CASCADE
);


